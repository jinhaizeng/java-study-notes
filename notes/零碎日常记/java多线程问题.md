## volatile
`volatile`主要涉及两个点`强制读写内存保证可见性`和`指令重排`
### 强制读写内存保证可见性
由于缓存机制的原因，内存中的数据并不一定是最新的值，多线程时会出现数据读写不同步的问题。可以用`volatile`解决可见性问题

### 指令重排
由于JVM优化运行速度的问题，会将对同一对象处理，尽可能的放到同一块处理，此时存在可见性隐患。可用`volatile`强制JVM不进行指令重排。  
**happen--before原则**
1. 在 volatile 变量的写入指令之前，对其它变量的读写指令不能重排到该指令之后。
2. 在 volatile 变量的读取指令之后，对其它变量的读写指令不能重排到该指令之前。
实质上就是保证读写的结果都是最新的，写在最后保证了前面的本地变量也一起写入内存，读在最前，保证拿到的变量是最新的不会对后续变量产生影响